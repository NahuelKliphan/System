create table categorias(
	id serial,
	nombre varchar(30) unique,
	primary key (id)
) with oids;

create table productos(
	codigo varchar(30),
	nombre varchar(30),
	precio decimal,
	cantidad integer,
	descripcion varchar(50),
	foto text,
	idCategoria integer,
	primary key (codigo),
	foreign key (idCategoria) references categorias on delete set null
) with oids;

create table ventas(
	id serial,
	clienteNombre varchar(30),
	fecha date,
	total decimal,
	primary key (id)
) with oids;

create table items(
	id serial,
    idVenta integer,
    total decimal,
    codigo varchar(30),
    nombre varchar(50),
    cantidad integer,
    precio decimal,
	primary key (id),
	foreign key (idVenta) references ventas on delete cascade
) with oids;

create table registro_precios(
	id serial primary key,
	fecha date,
	operacion varchar(20),
	tipo_valor varchar(20),
	valor numeric,
	anulada char(1) default 'N',
	id_categoria integer
) with oids;

create table entidades(
	id serial primary key,
	nombre varchar(50),
	direccion varchar(50),
	telefono varchar(50),
	mail varchar(50),
	cuit varchar(50),
	facebook varchar(50),
	instagram varchar(50),
	twitter varchar(50),
	facebook_link varchar(50),
	instagram_link varchar(50),
	twitter_link varchar(50)
) with oids;